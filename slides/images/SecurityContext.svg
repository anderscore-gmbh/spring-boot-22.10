<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="359px" preserveAspectRatio="none" style="width:891px;height:359px;" version="1.1" viewBox="0 0 891 359" width="891px" zoomAndPan="magnify"><defs><filter height="300%" id="f1sd8o41akjs3x" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[434a86a25993eeeea880c43cffc3083d]
class SecurityContextHolder--><rect fill="#DDEEE8" filter="url(#f1sd8o41akjs3x)" height="86.4141" id="SecurityContextHolder" style="stroke: #225C4D; stroke-width: 1.5;" width="199" x="279.5" y="8"/><ellipse cx="307.1" cy="24" fill="#ADD1B2" rx="11" ry="11" style="stroke: #225C4D; stroke-width: 1.0;"/><path d="M310.0688,29.6406 Q309.4906,29.9375 308.85,30.0781 Q308.2094,30.2344 307.5063,30.2344 Q305.0063,30.2344 303.6781,28.5938 Q302.3656,26.9375 302.3656,23.8125 Q302.3656,20.6875 303.6781,19.0313 Q305.0063,17.375 307.5063,17.375 Q308.2094,17.375 308.85,17.5313 Q309.5063,17.6875 310.0688,17.9844 L310.0688,20.7031 Q309.4438,20.125 308.85,19.8594 Q308.2563,19.5781 307.6313,19.5781 Q306.2875,19.5781 305.6,20.6563 Q304.9125,21.7188 304.9125,23.8125 Q304.9125,25.9063 305.6,26.9844 Q306.2875,28.0469 307.6313,28.0469 Q308.2563,28.0469 308.85,27.7813 Q309.4438,27.5 310.0688,26.9219 L310.0688,29.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="139" x="323.9" y="28.1543">SecurityContextHolder</text><line style="stroke: #225C4D; stroke-width: 1.5;" x1="280.5" x2="477.5" y1="40" y2="40"/><line style="stroke: #225C4D; stroke-width: 1.5;" x1="280.5" x2="477.5" y1="48" y2="48"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="69" x="285.5" y="62.2104">getContext()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="69" x="285.5" y="75.0151">setContext()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="187" x="285.5" y="87.8198">setStrategyName(strategyName)</text><path d="M6,8 L6,93.6641 A0,0 0 0 0 6,93.6641 L244,93.6641 A0,0 0 0 0 244,93.6641 L244,55 L279.38,51 L244,47 L244,18 L234,8 L6,8 A0,0 0 0 0 6,8 " fill="#FBFB77" filter="url(#f1sd8o41akjs3x)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M234,8 L234,18 L244,18 L234,8 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="166" x="12" y="25.0669">Verwaltet SecurityContext</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="122" x="12" y="40.1997">(standardmäßig) in</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="137" x="12" y="55.3325">ThreadLocal Variable,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="217" x="12" y="70.4653">einstellbar über setStrategyName</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="183" x="12" y="85.5981">oder spring.security.strategy</text><!--MD5=[bfe80886124190284096452d0cb4568d]
class Principal--><rect fill="#DDEEE8" filter="url(#f1sd8o41akjs3x)" height="48" id="Principal" style="stroke: #225C4D; stroke-width: 1.5;" width="84" x="514" y="27"/><ellipse cx="529" cy="43" fill="#B4A7E5" rx="11" ry="11" style="stroke: #225C4D; stroke-width: 1.0;"/><path d="M524.9219,38.7656 L524.9219,36.6094 L532.3125,36.6094 L532.3125,38.7656 L529.8438,38.7656 L529.8438,46.8438 L532.3125,46.8438 L532.3125,49 L524.9219,49 L524.9219,46.8438 L527.3906,46.8438 L527.3906,38.7656 L524.9219,38.7656 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="52" x="543" y="47.1543">Principal</text><line style="stroke: #225C4D; stroke-width: 1.5;" x1="515" x2="597" y1="59" y2="59"/><line style="stroke: #225C4D; stroke-width: 1.5;" x1="515" x2="597" y1="67" y2="67"/><!--MD5=[86b30c3e0fe779331a576db045bd0856]
class SecurityContext--><rect fill="#DDEEE8" filter="url(#f1sd8o41akjs3x)" height="48" id="SecurityContext" style="stroke: #225C4D; stroke-width: 1.5;" width="132" x="327" y="173"/><ellipse cx="342" cy="189" fill="#B4A7E5" rx="11" ry="11" style="stroke: #225C4D; stroke-width: 1.0;"/><path d="M337.9219,184.7656 L337.9219,182.6094 L345.3125,182.6094 L345.3125,184.7656 L342.8438,184.7656 L342.8438,192.8438 L345.3125,192.8438 L345.3125,195 L337.9219,195 L337.9219,192.8438 L340.3906,192.8438 L340.3906,184.7656 L337.9219,184.7656 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="100" x="356" y="193.1543">SecurityContext</text><line style="stroke: #225C4D; stroke-width: 1.5;" x1="328" x2="458" y1="205" y2="205"/><line style="stroke: #225C4D; stroke-width: 1.5;" x1="328" x2="458" y1="213" y2="213"/><!--MD5=[a139e992f8a77546bf37c14edd197f06]
class Authentication--><rect fill="#DDEEE8" filter="url(#f1sd8o41akjs3x)" height="86.4141" id="Authentication" style="stroke: #225C4D; stroke-width: 1.5;" width="124" x="494" y="154"/><ellipse cx="509" cy="170" fill="#B4A7E5" rx="11" ry="11" style="stroke: #225C4D; stroke-width: 1.0;"/><path d="M504.9219,165.7656 L504.9219,163.6094 L512.3125,163.6094 L512.3125,165.7656 L509.8438,165.7656 L509.8438,173.8438 L512.3125,173.8438 L512.3125,176 L504.9219,176 L504.9219,173.8438 L507.3906,173.8438 L507.3906,165.7656 L504.9219,165.7656 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="92" x="523" y="174.1543">Authentication</text><line style="stroke: #225C4D; stroke-width: 1.5;" x1="495" x2="617" y1="186" y2="186"/><line style="stroke: #225C4D; stroke-width: 1.5;" x1="495" x2="617" y1="194" y2="194"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="74" x="500" y="208.2104">getPrincipal()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="87" x="500" y="221.0151">getAuthorities()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="95" x="500" y="233.8198">isAuthenticated()</text><!--MD5=[e3e144d13ada41eaab5375ff982d1fe4]
class GrantedAuthority--><rect fill="#DDEEE8" filter="url(#f1sd8o41akjs3x)" height="48" id="GrantedAuthority" style="stroke: #225C4D; stroke-width: 1.5;" width="140" x="653" y="173"/><ellipse cx="668" cy="189" fill="#B4A7E5" rx="11" ry="11" style="stroke: #225C4D; stroke-width: 1.0;"/><path d="M663.9219,184.7656 L663.9219,182.6094 L671.3125,182.6094 L671.3125,184.7656 L668.8438,184.7656 L668.8438,192.8438 L671.3125,192.8438 L671.3125,195 L663.9219,195 L663.9219,192.8438 L666.3906,192.8438 L666.3906,184.7656 L663.9219,184.7656 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="108" x="682" y="193.1543">GrantedAuthority</text><line style="stroke: #225C4D; stroke-width: 1.5;" x1="654" x2="792" y1="205" y2="205"/><line style="stroke: #225C4D; stroke-width: 1.5;" x1="654" x2="792" y1="213" y2="213"/><path d="M828.5,184.5 L828.5,193 L793.11,197 L828.5,201 L828.5,209.6328 A0,0 0 0 0 828.5,209.6328 L879.5,209.6328 A0,0 0 0 0 879.5,209.6328 L879.5,194.5 L869.5,184.5 L828.5,184.5 A0,0 0 0 0 828.5,184.5 " fill="#FBFB77" filter="url(#f1sd8o41akjs3x)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M869.5,184.5 L869.5,194.5 L879.5,194.5 L869.5,184.5 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="30" x="834.5" y="201.5669">Rolle</text><!--MD5=[11ccd37da9cde826af907da9156f9e97]
class UsernamePasswordAuthenticationToken--><rect fill="#DDEEE8" filter="url(#f1sd8o41akjs3x)" height="48" id="UsernamePasswordAuthenticationToken" style="stroke: #225C4D; stroke-width: 1.5;" width="286" x="264" y="300"/><ellipse cx="279" cy="316" fill="#ADD1B2" rx="11" ry="11" style="stroke: #225C4D; stroke-width: 1.0;"/><path d="M281.9688,321.6406 Q281.3906,321.9375 280.75,322.0781 Q280.1094,322.2344 279.4063,322.2344 Q276.9063,322.2344 275.5781,320.5938 Q274.2656,318.9375 274.2656,315.8125 Q274.2656,312.6875 275.5781,311.0313 Q276.9063,309.375 279.4063,309.375 Q280.1094,309.375 280.75,309.5313 Q281.4063,309.6875 281.9688,309.9844 L281.9688,312.7031 Q281.3438,312.125 280.75,311.8594 Q280.1563,311.5781 279.5313,311.5781 Q278.1875,311.5781 277.5,312.6563 Q276.8125,313.7188 276.8125,315.8125 Q276.8125,317.9063 277.5,318.9844 Q278.1875,320.0469 279.5313,320.0469 Q280.1563,320.0469 280.75,319.7813 Q281.3438,319.5 281.9688,318.9219 L281.9688,321.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="254" x="293" y="320.1543">UsernamePasswordAuthenticationToken</text><line style="stroke: #225C4D; stroke-width: 1.5;" x1="265" x2="549" y1="332" y2="332"/><line style="stroke: #225C4D; stroke-width: 1.5;" x1="265" x2="549" y1="340" y2="340"/><!--MD5=[d41cf860e5f3de3bff587ca1c0d8aaac]
class OAuth2LoginAuthenticationToken--><rect fill="#DDEEE8" filter="url(#f1sd8o41akjs3x)" height="48" id="OAuth2LoginAuthenticationToken" style="stroke: #225C4D; stroke-width: 1.5;" width="241" x="585.5" y="300"/><ellipse cx="600.5" cy="316" fill="#ADD1B2" rx="11" ry="11" style="stroke: #225C4D; stroke-width: 1.0;"/><path d="M603.4688,321.6406 Q602.8906,321.9375 602.25,322.0781 Q601.6094,322.2344 600.9063,322.2344 Q598.4063,322.2344 597.0781,320.5938 Q595.7656,318.9375 595.7656,315.8125 Q595.7656,312.6875 597.0781,311.0313 Q598.4063,309.375 600.9063,309.375 Q601.6094,309.375 602.25,309.5313 Q602.9063,309.6875 603.4688,309.9844 L603.4688,312.7031 Q602.8438,312.125 602.25,311.8594 Q601.6563,311.5781 601.0313,311.5781 Q599.6875,311.5781 599,312.6563 Q598.3125,313.7188 598.3125,315.8125 Q598.3125,317.9063 599,318.9844 Q599.6875,320.0469 601.0313,320.0469 Q601.6563,320.0469 602.25,319.7813 Q602.8438,319.5 603.4688,318.9219 L603.4688,321.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="209" x="614.5" y="320.1543">OAuth2LoginAuthenticationToken</text><line style="stroke: #225C4D; stroke-width: 1.5;" x1="586.5" x2="825.5" y1="332" y2="332"/><line style="stroke: #225C4D; stroke-width: 1.5;" x1="586.5" x2="825.5" y1="340" y2="340"/><!--MD5=[6a1ed9cef0e8d3e5f6b31a5074b605cb]
reverse link Principal to Authentication--><path d="M556,95.44 C556,113.92 556,135.4 556,153.75 " fill="none" id="Principal&lt;-Authentication" style="stroke: #225C4D; stroke-width: 1.0;"/><polygon fill="none" points="549,95.14,556,75.14,563,95.14,549,95.14" style="stroke: #225C4D; stroke-width: 1.0;"/><!--MD5=[975aa200029110868636c73963594511]
link SecurityContext to Authentication--><path d="M459.22,197 C469.09,197 478.96,197 488.84,197 " fill="none" id="SecurityContext-&gt;Authentication" style="stroke: #225C4D; stroke-width: 1.0;"/><polygon fill="#225C4D" points="494,197,485,193,489,197,485,201,494,197" style="stroke: #225C4D; stroke-width: 1.0;"/><!--MD5=[94b1c8ac123e57f9c08f65047d00cbde]
link Authentication to GrantedAuthority--><path d="M618.3,197 C628.05,197 637.8,197 647.55,197 " fill="none" id="Authentication-&gt;GrantedAuthority" style="stroke: #225C4D; stroke-width: 1.0;"/><polygon fill="#225C4D" points="652.65,197,643.65,193,647.65,197,643.65,201,652.65,197" style="stroke: #225C4D; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="638.0342" y="193.3003">*</text><!--MD5=[870d52f46d07a550b9e9374cff9acf4c]
reverse link Authentication to UsernamePasswordAuthenticationToken--><path d="M490.22,253.19 C470.75,269.52 450.47,286.53 434.81,299.67 " fill="none" id="Authentication&lt;-UsernamePasswordAuthenticationToken" style="stroke: #225C4D; stroke-width: 1.0;"/><polygon fill="none" points="485.73,247.81,505.56,240.32,494.73,258.54,485.73,247.81" style="stroke: #225C4D; stroke-width: 1.0;"/><!--MD5=[bc44bb060c5018d08657c9ebdd4c745c]
reverse link Authentication to OAuth2LoginAuthenticationToken--><path d="M622.22,253.19 C641.83,269.52 662.24,286.53 678.01,299.67 " fill="none" id="Authentication&lt;-OAuth2LoginAuthenticationToken" style="stroke: #225C4D; stroke-width: 1.0;"/><polygon fill="none" points="617.67,258.5,606.78,240.32,626.63,247.75,617.67,258.5" style="stroke: #225C4D; stroke-width: 1.0;"/><!--MD5=[e0572e1b82eed0e35fd5779c7fa690a7]
@startuml
skinparam class {
 BackgroundColor #DDEEE8
 BorderColor #225C4D
 ArrowColor #225C4D
 }
class SecurityContextHolder {
    {static} getContext()
    {static} setContext()
    {static} setStrategyName(strategyName)
}
note left: Verwaltet SecurityContext\n(standardmäßig) in\nThreadLocal Variable,\neinstellbar über setStrategyName\noder spring.security.strategy

interface Principal
interface SecurityContext

interface Authentication {
    getPrincipal()
    getAuthorities()
    isAuthenticated()
}

interface GrantedAuthority
note right: Rolle

Principal <|- - Authentication

SecurityContext -> Authentication
Authentication -> "*" GrantedAuthority

Authentication <|- - UsernamePasswordAuthenticationToken
Authentication <|- - OAuth2LoginAuthenticationToken
@enduml

PlantUML version 1.2019.12(Sun Nov 03 11:24:54 CET 2019)
(APACHE source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.16+8-post-Ubuntu-0ubuntu122.04
Operating System: Linux
Default Encoding: UTF-8
Language: de
Country: DE
--></g></svg>